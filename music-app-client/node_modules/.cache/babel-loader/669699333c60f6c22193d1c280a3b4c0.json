{"ast":null,"code":"var _jsxFileName = \"/Users/harrybrooks/Documents/Computing/Music App/music-app-client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Routes from \"./Routes\";\nimport \"./App.css\";\nimport { Auth, Hub } from \"aws-amplify\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.signOut = this.signOut.bind(this); // let the Hub module listen on Auth events\n\n    Hub.listen('auth', data => {\n      switch (data.payload.event) {\n        case 'signIn':\n          this.setState({\n            authState: 'signedIn',\n            authData: data.payload.data\n          });\n          break;\n\n        case 'signIn_failure':\n          this.setState({\n            authState: 'signIn',\n            authData: null,\n            authError: data.payload.data\n          });\n          break;\n\n        default:\n          break;\n      }\n    });\n    this.state = {\n      authState: 'loading',\n      authData: null,\n      authError: null\n    };\n  }\n\n  componentDidMount() {\n    console.log('on component mount'); // check the current user when the App component is loaded\n\n    Auth.currentAuthenticatedUser().then(user => {\n      console.log(user);\n      this.setState({\n        authState: 'signedIn'\n      });\n    }).catch(e => {\n      console.log(e);\n      this.setState({\n        authState: 'signIn'\n      });\n    });\n  }\n\n  signOut() {\n    Auth.signOut().then(() => {\n      this.setState({\n        authState: 'signIn'\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return !isAuthenticating && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      fluid: true,\n      collapseOnSelect: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, \"Scratch\")), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      pullRight: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, isAuthenticated ? /*#__PURE__*/React.createElement(NavItem, {\n      onClick: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, \"Logout\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, \"Login\")))))), /*#__PURE__*/React.createElement(Routes, {\n      appProps: {\n        isAuthenticated,\n        userHasAuthenticated\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/harrybrooks/Documents/Computing/Music App/music-app-client/src/App.js"],"names":["React","useState","useEffect","Link","withRouter","Nav","Navbar","NavItem","LinkContainer","Routes","Auth","Hub","App","Component","constructor","props","signOut","bind","listen","data","payload","event","setState","authState","authData","authError","state","componentDidMount","console","log","currentAuthenticatedUser","then","user","catch","e","render","isAuthenticating","isAuthenticated","handleLogout","userHasAuthenticated"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Routes from \"./Routes\";\nimport \"./App.css\";\nimport { Auth, Hub } from \"aws-amplify\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.signOut = this.signOut.bind(this);\n    // let the Hub module listen on Auth events\n    Hub.listen('auth', (data) => {\n        switch (data.payload.event) {\n            case 'signIn':\n                this.setState({authState: 'signedIn', authData: data.payload.data});\n                break;\n            case 'signIn_failure':\n                this.setState({authState: 'signIn', authData: null, authError: data.payload.data});\n                break;\n            default:\n                break;\n        }\n    });\n    this.state = {\n      authState: 'loading',\n      authData: null,\n      authError: null\n    }\n  }\n\n  componentDidMount() {\n    console.log('on component mount');\n    // check the current user when the App component is loaded\n    Auth.currentAuthenticatedUser().then(user => {\n      console.log(user);\n      this.setState({authState: 'signedIn'});\n    }).catch(e => {\n      console.log(e);\n      this.setState({authState: 'signIn'});\n    });\n  }\n\n  signOut() {\n    Auth.signOut().then(() => {\n      this.setState({authState: 'signIn'});\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return (\n      !isAuthenticating &&\n      <div className=\"App container\">\n        <Navbar fluid collapseOnSelect>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\">Scratch</Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav pullRight>\n              {isAuthenticated\n                ? <NavItem onClick={handleLogout}>Logout</NavItem>\n                : <>\n                    <LinkContainer to=\"/login\">\n                      <NavItem>Login</NavItem>\n                    </LinkContainer>\n                  </>\n              }\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <Routes appProps={{ isAuthenticated, userHasAuthenticated }} />\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);"]},"metadata":{},"sourceType":"module"}